{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","props","value","newSearch","onChange","handleSearch","Form","onSubmit","addPerson","newName","handleNameChange","newNmbr","handleNmbrChange","type","Numbers","persons","filter","person","name","toLowerCase","includes","map","key","deletePerson","Number","number","onClick","App","useState","setPersons","setNewName","setNewNmbr","setNewSearch","error","setError","success","setSuccess","useEffect","personService","startPersons","message","className","event","target","preventDefault","val","find","personObj","window","confirm","setTimeout","catch","concat","pers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.43df7012.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  const remove = id => {\r\n      const request = axios.delete(`${baseUrl}/${id}`)\r\n      return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNmbr, setNewNmbr ] = useState('')\r\n  const [ newSearch, setNewSearch ] = useState('')\r\n  const [ error, setError] = useState('')\r\n  const [ success, setSuccess] = useState('')\r\n\r\n  useEffect(() => {\r\n      personService\r\n        .getAll()\r\n        .then(startPersons => setPersons(startPersons))\r\n    },[])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n      let val = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n      const personObj = { name: newName, number: newNmbr}\r\n      if(val != null) {\r\n          if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n              personService\r\n                .update(val.id, personObj)\r\n                .then(response => {\r\n                    setPersons(persons.map(person => person.id !== val.id ? person : response))\r\n                    setNewName('')\r\n                    setNewNmbr('')\r\n                    setSuccess(\r\n                        `${personObj.name}'s number changed.`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setSuccess('')\r\n                    },4000)\r\n                })\r\n                .catch(error => {\r\n                    setError(\r\n                        `${personObj.name}'s information already removed.`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setError('')\r\n                    }, 4000)\r\n                })\r\n          }\r\n      } else {\r\n        personService\r\n            .create(personObj)\r\n            .then(response => {\r\n                setPersons(persons.concat(response))\r\n                setNewName('')\r\n                setNewNmbr('')\r\n                setSuccess(\r\n                    `${personObj.name} added.`\r\n                )\r\n                setTimeout(() => {\r\n                    setSuccess('')\r\n                },4000)\r\n            }).catch(error =>{\r\n                setError('Varmistathan että annettu nimi on yli 2 merkkiä pitkä, ja että numero on yli 7 merkkiä pitkä')\r\n                setTimeout(() => {\r\n                    setError('')\r\n                }, 4000)\r\n            })\r\n      }\r\n  }\r\n  const deletePerson = (event) => {\r\n      event.preventDefault()\r\n      const pers = persons.find(person => person.name === event.target.value)\r\n\r\n      if(window.confirm(`Delete ${pers.name} ?`)) {\r\n          personService\r\n            .remove(pers.id)\r\n            .then(response => {\r\n                setPersons(persons.filter(person => person.id !== pers.id))\r\n                setSuccess(\r\n                    `${pers.name} deleted.`\r\n                )\r\n                setTimeout(() => {\r\n                    setSuccess('')\r\n                },4000)\r\n            })\r\n\r\n      }\r\n  }\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNmbrChange = (event) => {\r\n      setNewNmbr(event.target.value)\r\n  }\r\n  const handleSearch = (event) => {\r\n      setNewSearch(event.target.value)\r\n  }\r\n  const ErrorMsg = ({message}) => {\r\n      if(message === '') {\r\n          return null\r\n      }\r\n      return (\r\n          <div className=\"error\">\r\n              {message}\r\n          </div>\r\n      )\r\n  }\r\n  const SuccessMsg = ({message}) => {\r\n    if(message === '') {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n    )\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <ErrorMsg message={error} />\r\n      <SuccessMsg message={success} />\r\n      <Filter newSearch={newSearch} handleSearch={handleSearch} />\r\n      <p>Add a new number:</p>\r\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} \r\n      newNmbr={newNmbr} handleNmbrChange={handleNmbrChange} />\r\n      <h2>Numbers</h2>\r\n      <Numbers persons={persons} newSearch={newSearch} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n        <p> Filter phonebook: <input value={props.newSearch} onChange={props.handleSearch}/> </p>\r\n        </div>\r\n    )\r\n}\r\nconst Form = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.addPerson}>\r\n                <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange} />\r\n                </div>\r\n                <div>\r\n                number: <input value={props.newNmbr} onChange={props.handleNmbrChange} />\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nconst Numbers = (props) => {\r\n    let list = props.persons.filter((person) => person.name.toLowerCase().includes(props.newSearch.toLowerCase()))\r\n\r\n    return (\r\n        list.map((person) => <Number key={person.name} person={person} deletePerson={props.deletePerson}/>)\r\n    )\r\n}\r\nconst Number = (props) => {\r\n    return (\r\n        <div>\r\n            <p> {props.person.name} , {props.person.number} <button value={props.person.name} onClick={props.deletePerson}>Delete</button></p>\r\n        </div>\r\n    )\r\n}\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}